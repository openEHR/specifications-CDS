<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="openEHR Guideline Definition Language v2 (GDL2) specification">
<meta name="keywords" content="decision support, GDL, GDL2, archetype">
<title>Guideline Definition Language v2 (GDL2)</title>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/openehr.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#_guideline_definition_language_v2_gdl2">Guideline Definition Language v2 (GDL2)</a>
<ul class="sectlevel1">
<li><a href="#_amendment_record">Amendment Record</a></li>
<li><a href="#_acknowledgements">Acknowledgements</a>
<ul class="sectlevel2">
<li><a href="#_primary_author">Primary Author</a></li>
<li><a href="#_contributors">Contributors</a></li>
<li><a href="#_support">Support</a></li>
<li><a href="#_trademarks">Trademarks</a></li>
</ul>
</li>
<li><a href="#_preface">1. Preface</a>
<ul class="sectlevel2">
<li><a href="#_purpose">1.1. Purpose</a></li>
<li><a href="#_related_documents">1.2. Related Documents</a></li>
<li><a href="#_status">1.3. Status</a></li>
<li><a href="#_feedback">1.4. Feedback</a></li>
<li><a href="#_a_note_on_nomenclature">1.5. A Note on Nomenclature</a></li>
<li><a href="#_resources">1.6. Resources</a></li>
<li><a href="#_changes_since_gdl_version_1_gdl">1.7. Changes since GDL version 1 ('GDL')</a></li>
</ul>
</li>
<li><a href="#_overview">2. Overview</a>
<ul class="sectlevel2">
<li><a href="#_background">2.1. Background</a></li>
<li><a href="#_scope">2.2. Scope</a></li>
<li><a href="#_an_example">2.3. An Example</a></li>
</ul>
</li>
<li><a href="#_requirements">3. Requirements</a>
<ul class="sectlevel2">
<li><a href="#_clinical_information_models">3.1. Clinical information models</a></li>
<li><a href="#_natural_language_independence">3.2. Natural language independence</a></li>
<li><a href="#_reference_terminology_support">3.3. Reference terminology support</a></li>
<li><a href="#_identification_and_meta_data">3.4. Identification and meta-data</a></li>
<li><a href="#_rule_execution">3.5. Rule Execution</a></li>
<li><a href="#_complex_output_objects">3.6. Complex Output Objects</a></li>
<li><a href="#_local_variables">3.7. Local variables</a></li>
</ul>
</li>
<li><a href="#_gdl2_semantics">4. GDL2 Semantics</a>
<ul class="sectlevel2">
<li><a href="#_rule_structure">4.1. Rule Structure</a></li>
<li><a href="#_execution_model">4.2. Execution Model</a></li>
<li><a href="#_gdl2_language_elements">4.3. GDL2 Language Elements</a>
<ul class="sectlevel3">
<li><a href="#_syntax">4.3.1. Syntax</a></li>
<li><a href="#_pre_conditions">4.3.2. Pre-conditions</a></li>
<li><a href="#_rules">4.3.3. Rules</a></li>
<li><a href="#_expression_elements">4.3.4. Expression Elements</a></li>
<li><a href="#_local_variables_2">4.3.5. Local Variables</a></li>
</ul>
</li>
<li><a href="#_reporting">4.4. Reporting</a></li>
</ul>
</li>
<li><a href="#_gdl2_object_model">5. GDL2 Object Model</a>
<ul class="sectlevel2">
<li><a href="#_package_structure">5.1. Package Structure</a></li>
<li><a href="#_guideline_package">5.2. Guideline Package</a>
<ul class="sectlevel3">
<li><a href="#_overview_2">5.2.1. Overview</a></li>
<li><a href="#_class_definitions">5.2.2. Class Definitions</a>
<ul class="sectlevel4">
<li><a href="#_guideline_class">5.2.2.1. GUIDELINE Class</a></li>
<li><a href="#_guideline_definition_class">5.2.2.2. GUIDELINE_DEFINITION Class</a></li>
<li><a href="#_rule_class">5.2.2.3. RULE Class</a></li>
<li><a href="#_data_binding_class">5.2.2.4. DATA_BINDING Class</a></li>
<li><a href="#_element_class">5.2.2.5. ELEMENT Class</a></li>
<li><a href="#_output_template_class">5.2.2.6. OUTPUT_TEMPLATE Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_expressions_package">5.3. Expressions Package</a>
<ul class="sectlevel3">
<li><a href="#_overview_3">5.3.1. Overview</a></li>
<li><a href="#_class_definitions_2">5.3.2. Class Definitions</a>
<ul class="sectlevel4">
<li><a href="#_expression_item_class">5.3.2.1. EXPRESSION_ITEM Class</a></li>
<li><a href="#_operator_class">5.3.2.2. OPERATOR Class</a></li>
<li><a href="#_unary_operator_class">5.3.2.3. UNARY_OPERATOR Class</a></li>
<li><a href="#_binary_operator_class">5.3.2.4. BINARY_OPERATOR Class</a></li>
<li><a href="#_operator_kind_enumeration">5.3.2.5. OPERATOR_KIND Enumeration</a></li>
<li><a href="#_function_call_class">5.3.2.6. FUNCTION_CALL Class</a></li>
<li><a href="#_function_kind_enumeration">5.3.2.7. FUNCTION_KIND Enumeration</a></li>
<li><a href="#_constant_class">5.3.2.8. CONSTANT Class</a></li>
<li><a href="#_string_constant_class">5.3.2.9. STRING_CONSTANT Class</a></li>
<li><a href="#_integer_constant_class">5.3.2.10. INTEGER_CONSTANT Class</a></li>
<li><a href="#_date_time_constant_class">5.3.2.11. DATE_TIME_CONSTANT Class</a></li>
<li><a href="#_code_phrase_constant_class">5.3.2.12. CODE_PHRASE_CONSTANT Class</a></li>
<li><a href="#_coded_text_constant_class">5.3.2.13. CODED_TEXT_CONSTANT Class</a></li>
<li><a href="#_ordinal_constant_class">5.3.2.14. ORDINAL_CONSTANT Class</a></li>
<li><a href="#_quantity_constant_class">5.3.2.15. QUANTITY_CONSTANT Class</a></li>
<li><a href="#_variable_class">5.3.2.16. VARIABLE Class</a></li>
<li><a href="#_statement_class">5.3.2.17. STATEMENT Class</a></li>
<li><a href="#_assignment_class">5.3.2.18. ASSIGNMENT Class</a></li>
<li><a href="#_assertion_class">5.3.2.19. ASSERTION Class</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_terminology_package">5.4. Terminology Package</a>
<ul class="sectlevel3">
<li><a href="#_overview_4">5.4.1. Overview</a></li>
<li><a href="#_class_definitions_3">5.4.2. Class Definitions</a>
<ul class="sectlevel4">
<li><a href="#_terminology_class">5.4.2.1. TERMINOLOGY Class</a></li>
<li><a href="#_term_class">5.4.2.2. TERM Class</a></li>
<li><a href="#_term_binding_class">5.4.2.3. TERM_BINDING Class</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_syntax_specification">6. Syntax Specification</a>
<ul class="sectlevel2">
<li><a href="#_syntax_specification_2">6.1. Syntax Specification</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="https://specifications.openehr.org/images/openEHR_logo_RGB.svg" alt="openEHR logo">
</div>
</div>
</div>
</div>
<h1 id="_guideline_definition_language_v2_gdl2" class="sect0"><a class="anchor" href="#_guideline_definition_language_v2_gdl2"></a>Guideline Definition Language v2 (GDL2)</h1>
<div class="openblock partintro">
<div class="content">
<table class="tableblock frame-all grid-all fit-content spread">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2"><strong>Issuer</strong>: <a href="https://www.openehr.org/programs/specification" target="_blank" rel="noopener">openEHR Specification Program</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Release</strong>: CDS latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status</strong>: TRIAL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Revision</strong>: <a href="#latest_issue">[latest_issue]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong>: <a href="#latest_issue_date">[latest_issue_date]</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>Keywords</strong>: decision support, GDL, GDL2, archetype</p></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<object type="image/svg+xml" data="openehr_block_diagram.svg" width="60%"><span class="alt">openEHR components</span></object>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top" colspan="2">&#169; 2018 - 2020 The openEHR Foundation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><a href="https://www.openehr.org" target="_blank" rel="noopener">The openEHR Foundation</a> is an independent, non-profit foundation, facilitating the sharing of health records by consumers and clinicians via open specifications, clinical models and open platform implementations.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Licence</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="https://specifications.openehr.org/images/cc-by-nd-88x31.png" alt="image"></span> Creative Commons Attribution-NoDerivs 3.0 Unported. <a href="https://creativecommons.org/licenses/by-nd/3.0/" class="bare">https://creativecommons.org/licenses/by-nd/3.0/</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>Support</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Issues: <a href="https://specifications.openehr.org/components/CDS/open_issues" target="_blank" rel="noopener">Problem Reports</a><br>
 Web: <a href="https://specifications.openehr.org" target="_blank" rel="noopener">specifications.openEHR.org</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_amendment_record"><a class="anchor" href="#_amendment_record"></a>Amendment Record</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 54.5454%;">
<col style="width: 18.1818%;">
<col style="width: 18.1819%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Issue</th>
<th class="tableblock halign-left valign-top">Details</th>
<th class="tableblock halign-left valign-top">Raiser</th>
<th class="tableblock halign-left valign-top">Completed</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top" colspan="4"><p class="tableblock"><strong>CDS Release 2.0.0</strong></p></th>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue"></a>2.0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://specifications.openehr.org/tickets/SPECCDS-2" target="_blank" rel="noopener">SPECCDS-2</a>: Add GDL and GDL2 specifications to CDS release.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="latest_issue_date"></a>20 May 2019</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial Writing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R Chen,<br>
 T Beale</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12 Apr 2019</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_acknowledgements"><a class="anchor" href="#_acknowledgements"></a>Acknowledgements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_primary_author"><a class="anchor" href="#_primary_author"></a>Primary Author</h3>
<div class="ulist">
<ul>
<li>
<p>Rong Chen MD, PhD, Cambio CDS, Sweden</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_contributors"><a class="anchor" href="#_contributors"></a>Contributors</h3>
<div class="paragraph">
<p>This specification has benefited from formal and informal input from the openEHR and wider health informatics community. The openEHR Foundation would like to recognise the following people for their contributions.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Thomas Beale, Ars Semantica (UK); openEHR Foundation Management Board.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_support"><a class="anchor" href="#_support"></a>Support</h3>
<div class="paragraph">
<p>The work to produce this specification was funded by the following organisations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cambio CDS, Sweden.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_trademarks"><a class="anchor" href="#_trademarks"></a>Trademarks</h3>
<div class="ulist">
<ul>
<li>
<p>'openEHR' is a trademark of the openEHR Foundation</p>
</li>
<li>
<p>'Java' is a registered trademark of Oracle Corporation</p>
</li>
<li>
<p>'Microsoft' and '.Net' are trademarks of the Microsoft Corporation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preface"><a class="anchor" href="#_preface"></a>1. Preface</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.1. Purpose</h3>
<div class="paragraph">
<p>This document contains the design specifications of the Guideline Definition Language version 2 (GDL2). GDL2 is a formal language for expressing decision support logic. It is designed to be agnostic to languages, reference terminologies and standard EHR models. GDL2 is a major evolution from <a href="https://specifications.openehr.org/releases/CDS/latest/GDL.html" target="_blank" rel="noopener">GDL version 1</a> ('GDL').</p>
</div>
</div>
<div class="sect2">
<h3 id="_related_documents"><a class="anchor" href="#_related_documents"></a>1.2. Related Documents</h3>
<div class="paragraph">
<p>Prerequisite documents for reading this document include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://specifications.openehr.org/releases/BASE/latest/architecture_overview.html" target="_blank" rel="noopener">openEHR Architecture Overview</a>.</p>
</li>
<li>
<p><a href="https://specifications.openehr.org/releases/RM/latest/index" target="_blank" rel="noopener">openEHR Reference Model specifications</a>.</p>
</li>
<li>
<p><a href="https://specifications.openehr.org/releases/CDS/latest/GDL.html" target="_blank" rel="noopener">GDL version 1</a>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_status"><a class="anchor" href="#_status"></a>1.3. Status</h3>
<div class="paragraph">
<p>This specification is in the TRIAL state. The development version of this document can be found at <a href="https://specifications.openehr.org/releases/CDS/latest/GDL2.html" target="_blank" rel="noopener">https://specifications.openehr.org/releases/CDS/latest/GDL2.html</a>.</p>
</div>
<div class="paragraph">
<p>Known omissions or questions are indicated in the text with a 'to be determined' paragraph, as follows:</p>
</div>
<div class="paragraph tbd">
<p><strong>TBD</strong>: (example To Be Determined paragraph)</p>
</div>
</div>
<div class="sect2">
<h3 id="_feedback"><a class="anchor" href="#_feedback"></a>1.4. Feedback</h3>
<div class="paragraph">
<p>Feedback may be provided on the <a href="https://discourse.openehr.org/c/specifications" target="_blank" rel="noopener">technical mailing list</a>.</p>
</div>
<div class="paragraph">
<p>Issues may be raised on the <a href="https://specifications.openehr.org/components/CDS/open_issues" target="_blank" rel="noopener">specifications Problem Report tracker</a>.</p>
</div>
<div class="paragraph">
<p>To see changes made due to previously reported issues, see the <a href="https://specifications.openehr.org/components/CDS/history" target="_blank" rel="noopener">CDS component Change Request tracker</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_a_note_on_nomenclature"><a class="anchor" href="#_a_note_on_nomenclature"></a>1.5. A Note on Nomenclature</h3>
<div class="paragraph">
<p>This specification uses the terms 'GDL2' and 'GDL' to refer to version 2 of GDL, i.e. the formalism described in this specification.</p>
</div>
</div>
<div class="sect2">
<h3 id="_resources"><a class="anchor" href="#_resources"></a>1.6. Resources</h3>
<div class="paragraph">
<p>The <a href="https://gdl-lang.org" target="_blank" rel="noopener">GDL-lang site</a> is a useful location for GDL-related research material. The <a href="https://github.com/gdl-lang/common-clinical-models/tree/master/gdl2" target="_blank" rel="noopener">GDL Github repository</a> contains published GDLguidelines. The <a href="https://github.com/gdl-lang/common-clinical-models/wiki" target="_blank" rel="noopener">GDL wiki</a> provides further material.</p>
</div>
</div>
<div class="sect2">
<h3 id="_changes_since_gdl_version_1_gdl"><a class="anchor" href="#_changes_since_gdl_version_1_gdl"></a>1.7. Changes since GDL version 1 ('GDL')</h3>
<div class="paragraph">
<p>GDL2 introduces the following changes with respect to the original release of GDL:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Data binding agnostic to EHR data models (e.g. openEHR / <a href="https://www.iso.org/standard/40784.html" target="_blank" rel="noopener">ISO 13606</a> / <a href="https://www.hl7.org/fhir/" target="_blank" rel="noopener">HL7 FHIR</a>);</p>
</li>
<li>
<p>Template definition for output objects with new <code>use_template</code> statement with template-level variables; this enables, for example CDS-Hooks Cards &amp; Suggestions as result of rule executions;</p>
</li>
<li>
<p>Individual references and ability to reference to specific items in the rules;</p>
</li>
<li>
<p>More math functions support.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Migration of GDL1 to GDL2 guidelines is described on the <a href="https://gdl-lang.org/the-project/guides-tutorials/gdl2-guideline-migration-tutorial" target="_blank" rel="noopener">gdl-lang site</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview"><a class="anchor" href="#_overview"></a>2. Overview</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_background"><a class="anchor" href="#_background"></a>2.1. Background</h3>
<div class="paragraph">
<p>Expressing and sharing computerized clinical decision support (CDS) content across languages and technical platforms has been an evasive goal for a long time. Lack of commonly shared clinical information models and flexible support for various terminology resources have been identified as two main challenges for sharing decision logic across sites. The openEHR information architecture, coupled with external terminology provides a well-defined, open platform on which to base a computable guideline facility.</p>
</div>
</div>
<div class="sect2">
<h3 id="_scope"><a class="anchor" href="#_scope"></a>2.2. Scope</h3>
<div class="paragraph">
<p>The scope of GDL is to express clinical logic as production rules. Discrete GDL rules, each containing 'when-then' statements, can be combined together as building blocks to support single decision making and more complex, chained decision making processes. The GDL rules can be used to drive at-point-of-care decision support applications as well as retrospective populational analytics.</p>
</div>
<div class="paragraph">
<p>The use cases of GDL2 include, but are not limited to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Prompts, alerts &amp; reminders;</p>
</li>
<li>
<p>Interactive single-screen decision support applications;</p>
</li>
<li>
<p>Detailed order-sets and care process support;</p>
</li>
<li>
<p>Algorithm-based calculators;</p>
</li>
<li>
<p>Generate and update personalized care plans as part of more complex care process support;</p>
</li>
<li>
<p>Retrospective treatment compliance check, and outcome measures.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_an_example"><a class="anchor" href="#_an_example"></a>2.3. An Example</h3>
<div class="paragraph">
<p>The following is a simple GDL example that allows us to calculate CHA2DS2-VASc Score, a clinical tool for stroke risk stratification in atrial fibrillation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
GDL Guidelines are expressed in either the <a href="https://specifications.openehr.org/releases/LANG/latest/odin.html" target="_blank" rel="noopener">openEHR ODIN</a> or JSON formats, such that a GDL source is a serialised instance of the GDL2 Object Model, described below in <a href="#_gdl2_object_model">Section 5</a>. The example here uses ODIN.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-p">&lt;</span>
    <span class="tok-nc">gdl_version</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;2.0&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-nc">id</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;CHA2DS2-VASc.v1&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-nc">concept</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;gt0001&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-nc">original_language</span> <span class="tok-o">=</span> <span class="tok-p">&lt;[</span><span class="tok-nd">ISO_639-1</span><span class="tok-p">::</span><span class="tok-nd">en</span><span class="tok-p">]&gt;</span>
    <span class="tok-nc">description</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-nc">details</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;en&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">copyright</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Cambio Healthcare Systems&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-nc">keywords</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Atrial Fibrillation&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;Stroke&quot;</span><span class="tok-p">,</span> <span class="tok-s">&quot;CHA2DS2-VASc&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-nc">misuse</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Do not use in patients with no diagnosis of atrial fibrillation.&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-nc">purpose</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Calculates stroke risk for patients with atrial fibrillation, possibly better than the CHADS2 score.&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-nc">use</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Calculates stroke risk for patients with atrial fibrillation, possibly better than the CHADS2 score.&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
        <span class="tok-nc">lifecycle_state</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;in_review&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-nc">original_author</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;date&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;2016-12-16&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;email&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;rong.chen@cambio.se&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;name&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Rong Chen&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;organisation&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Cambio Healthcare Systems&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
        <span class="tok-nc">other_contributors</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Carlos Valladares&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
    <span class="tok-nc">definition</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-nc">pre_conditions</span> <span class="tok-o">=</span> <span class="tok-p">&lt;...&gt;</span>
        <span class="tok-nc">data_bindings</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
             <span class="tok-p">[</span><span class="tok-s">&quot;gt0006&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;...&gt;</span>
             <span class="tok-p">[</span><span class="tok-s">&quot;gt0007&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;...&gt;</span>
             <span class="tok-p">...</span>
        <span class="tok-p">&gt;</span>
        <span class="tok-nc">rules</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
             <span class="tok-p">[</span><span class="tok-s">&quot;gt0024&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;...&gt;</span>
             <span class="tok-p">[</span><span class="tok-s">&quot;gt0025&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;...&gt;</span>
             <span class="tok-p">...</span>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
    <span class="tok-nc">terminology</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-nc">term_definitions</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;en&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-p">[</span><span class="tok-s">&quot;gt123&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                    <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;some text&quot;</span><span class="tok-p">&gt;</span>
                    <span class="tok-nc">description</span> <span class="tok-o">=</span> <span class="tok-s">&quot;some description&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
        <span class="tok-nc">term_bindings</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;ICD10&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-p">[</span><span class="tok-s">&quot;gt123&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-l">http://who.int/icd10/id/xxxx</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
<span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The meta-data in the GDL header is based on the <a href="https://specifications.openehr.org/releases/BASE/latest/resource.html" target="_blank" rel="noopener">openEHR Resource model</a>. The following GDL source illustrates the current version of the guideline, the supported natural languages, to which it has been translated, authorship information, lifecycle state, keywords and the purpose, use and misuse of the guideline. The other top-level sections are respectively <code>definition</code> and <code>terminology</code>.</p>
</div>
<div class="paragraph">
<p>The following block illustrates the <code>data_bindings</code> sub-section within the <code>definition</code> section, which binds data elements from a source data-set, defined in terms of an archetype, optionally within a specific template, to variables used by GDL rules. Variables are identified using 'gt-codes', e.g. 'gt0123'.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-nc">definition</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
    <span class="tok-nc">data_bindings</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;gt0006&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-nc">model_id</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;openEHR-EHR-EVALUATION.problem-diagnosis.v1&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">type</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;INPUT&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">elements</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-p">[</span><span class="tok-s">&quot;gt0107&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                    <span class="tok-nc">path</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;/data[at0001]/items[at0002.1]&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
<span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Within the <code>definition</code> section, it is possible to define a set of logical pre-conditions that have to be met before the rules inside the guideline can be executed. In GDL2, the pre-conditions are formed from the <code>pre_conditions</code> sub-section (guideline-wide), and <code>predicates</code> defined in each of the subordinate <code>data_bindings</code> items, as in the CHA2DS2-VASc score calculation shown below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-nc">definition</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
    <span class="tok-nc">pre_conditions</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0107|index diagnosis| != null&quot;</span><span class="tok-p">&gt;</span>
    <span class="tok-nc">data_bindings</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-mi">1</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-nc">model_id</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;openEHR-EHR-EVALUATION.problem-diagnosis.v1&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">type</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;INPUT&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">elements</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-p">[</span><span class="tok-s">&quot;gt0107&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                    <span class="tok-nc">path</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;/data[at0001]/items[at0002.1]&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-nc">predicates</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;/data[at0001]/items[at0002.1] is_a local::gt0105|Atrial fibrillation|&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">template_id</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;diagnosis_chadvas_icd10&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
<span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the pre-conditions consist of the statements:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-- there is a diagnosis in the data set
$gt0107|index diagnosis| != null

-- the diagnosis is gt0105, Atrial Fibrillation.
/data[at0001]/items[at0002.1] is_a local::gt0105|Atrial fibrillation|</pre>
</div>
</div>
<div class="paragraph">
<p>Accordingly, the guideline will not be executed unless the patient has been diagnosed with atrial fibrillation.</p>
</div>
<div class="paragraph">
<p>The <code>rules</code> section makes use of locally defined variables to express the clinical logic. Each rule has a name codified by a locally defined gt-code, with which its natural language-dependent name and description are indexed in the <code>term_definitions</code> section. A priority can be assigned to ensure execution order of the rules. Higher priorities are executed earlier. This example illustrates rules that inspect different diagnoses relevant to CHA2DS2-VASc score and set the values of the <code>DV_ORDINALs</code> inside a CHA2DS2-VASc score archetype. The rule <code>gt0026</code> ("Calculate total score") sums the values and sets the total score in CHA2DS2-VASc score archetype.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-nc">definition</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
    <span class="tok-nc">rules</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;gt0018&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-nc">when</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0108 != null&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">then</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0014 = 1|local::at0031|Present|&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">priority</span> <span class="tok-o">=</span> <b class="conum">(11)</b>
        <span class="tok-p">&gt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;gt0019&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-nc">when</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0109 != null&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">then</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0010 = 1|local::at0034|Present|&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">priority</span> <span class="tok-o">=</span> <b class="conum">(9)</b>
        <span class="tok-p">&gt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;gt0026&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-nc">then</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0016.magnitude = gt0009.value + $gt0010.value + $gt0011.value + $gt0015.value + $gt0012.value + $gt0013.value + $gt0014.value&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">priority</span> <span class="tok-o">=</span> <b class="conum">(1)</b>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
<span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally we have the <code>terminology</code> section of the guideline, where all the terms are bound to user interface labels and description of the terms in supported natural languages.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-nc">terminology</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
    <span class="tok-nc">term_definitions</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;en&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0003&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Diagnosis&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0014&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Hypertension&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0102&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Diabetes&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0105&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Atrial fibrillation&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0018&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Set hypertension&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0019&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Set diabetes&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0026&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Calculate total score&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
<span class="tok-p">&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In addition, locally defined terms may be bound to concepts or refsets defined by external reference terminologies in <code>term_bindings</code>. In this sample, the diagnosis of atrial fibrillation is bound to a specific code in ICD10.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-nc">terminology</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
    <span class="tok-nc">term_bindings</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;ICD10&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0105&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;ICD10::I48&quot;</span><span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>
    <span class="tok-p">&gt;</span>
<span class="tok-p">&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requirements"><a class="anchor" href="#_requirements"></a>3. Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes detailed formal requirements of the GDL2 language.</p>
</div>
<div class="sect2">
<h3 id="_clinical_information_models"><a class="anchor" href="#_clinical_information_models"></a>3.1. Clinical information models</h3>
<div class="ulist">
<ul>
<li>
<p>It shall be possible to express clinical decision logic using standards-based clinical models such as openEHR Archetypes or HL7 FHIR Resources both as input and output of the rule execution;</p>
</li>
<li>
<p>The design shall support common data types underpinning standard clinical models.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_natural_language_independence"><a class="anchor" href="#_natural_language_independence"></a>3.2. Natural language independence</h3>
<div class="ulist">
<ul>
<li>
<p>It shall be possible to author meta-data of the rules in any natural language;</p>
</li>
<li>
<p>The rule expressions shall be independent of any natural language;</p>
</li>
<li>
<p>The name of individual rules shall be independent of any natural language;</p>
</li>
<li>
<p>It shall be possible to add multiple language translations without changing the logical definitions in the rules.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_reference_terminology_support"><a class="anchor" href="#_reference_terminology_support"></a>3.3. Reference terminology support</h3>
<div class="ulist">
<ul>
<li>
<p>It shall be possible to bind a locally defined term in the guideline to a single concept defined in one or several external reference terminologies;</p>
</li>
<li>
<p>It shall be possible to bind a locally defined term in the guideline to multiple concepts defined by external reference terminologies;</p>
</li>
<li>
<p>It shall be possible to bind a locally defined term in the guideline to externally defined terminology ref-sets.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_identification_and_meta_data"><a class="anchor" href="#_identification_and_meta_data"></a>3.4. Identification and meta-data</h3>
<div class="ulist">
<ul>
<li>
<p>Each rule shall be uniquely identified for a given name space;</p>
</li>
<li>
<p>Each rule shall have explicit version information as part of the guideline identifier;</p>
</li>
<li>
<p>There shall be sufficient meta-data about the guideline with regards to authorship, purpose of the rules, version information and relevant clinical references.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_rule_execution"><a class="anchor" href="#_rule_execution"></a>3.5. Rule Execution</h3>
<div class="ulist">
<ul>
<li>
<p>It shall be possible to chain the execution of several guidelines in order to support complex decision making process;</p>
</li>
<li>
<p>It shall be possible to reuse the guidelines in different decision support applications in different clinical contexts.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_complex_output_objects"><a class="anchor" href="#_complex_output_objects"></a>3.6. Complex Output Objects</h3>
<div class="ulist">
<ul>
<li>
<p>It shall be possible to support complex hierarchical objects as output of the rule execution;</p>
</li>
<li>
<p>It shall be possible to alter the structure of the output objects based on the rule executions;</p>
</li>
<li>
<p>It shall be possible to alter the details of the output objects based on the rule executions;</p>
</li>
<li>
<p>It shall support standard or non-standard based output format.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_local_variables"><a class="anchor" href="#_local_variables"></a>3.7. Local variables</h3>
<div class="ulist">
<ul>
<li>
<p>It shall be possible to use locally defined variables to hold intermediate results of the rule execution;</p>
</li>
<li>
<p>It shall be possible to use such local variables without dependent on external clinical models.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gdl2_semantics"><a class="anchor" href="#_gdl2_semantics"></a>4. GDL2 Semantics</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_rule_structure"><a class="anchor" href="#_rule_structure"></a>4.1. Rule Structure</h3>
<div class="paragraph">
<p>The following diagram illustrates the structure of a GDL2 guideline. The central rules defining the semantics of the guideline are defined in terms of the formal rule definitions (when/then structures) coupled with 'rule execution filters', consisting of pre-conditions and predicates, that decide which rules are executed. If a rule is executed, its <code>when</code> conditions will be evaluated, and if all satisfied, its <code>then</code> actions performed. The data-bindings and terminology parts of structure define respectively, the mappings of the gt-codes used in the rules to nodes in input or output data sets (archetypes and/or templates); and the definitions of the gt-codes as terms, for human use. Finally, the optional <code>templates</code> provide a way of reporting generated results to downstream consumers. These are described in more detail in the <a href="#_reporting">Section 4.4</a> section below.</p>
</div>
<div id="gdl2_guideline_structure" class="imageblock text-center text-center">
<div class="content">
<img src="GDL2/diagrams/gdl2_guideline_structure.svg" alt="gdl2 guideline structure">
</div>
<div class="title">Figure 1. GDL2 guideline structure</div>
</div>
</div>
<div class="sect2">
<h3 id="_execution_model"><a class="anchor" href="#_execution_model"></a>4.2. Execution Model</h3>
<div class="paragraph">
<p>The following diagram illustrates the execution model of a rule in a GDL2 guideline, showing more clearly the relationship between rule execution 'filters' and rule execution.</p>
</div>
<div id="gdl2_execution_model" class="imageblock text-center text-center">
<div class="content">
<img src="GDL2/diagrams/gdl2_execution_model.svg" alt="gdl2 execution model" width="70%">
</div>
<div class="title">Figure 2. GDL2 execution model</div>
</div>
</div>
<div class="sect2">
<h3 id="_gdl2_language_elements"><a class="anchor" href="#_gdl2_language_elements"></a>4.3. GDL2 Language Elements</h3>
<div class="sect3">
<h4 id="_syntax"><a class="anchor" href="#_syntax"></a>4.3.1. Syntax</h4>
<div class="paragraph">
<p>Because GDL2 guidelines are machine serialisations of the <a href="#_gdl2_object_model">Section 5</a>, the syntax is mostly a direct consequence of the structure. Currently, either <a href="https://specifications.openehr.org/releases/LANG/latest/odin.html" target="_blank" rel="noopener">openEHR ODIN</a> or <a href="http://json.org" target="_blank" rel="noopener">JSON</a> syntax may be used. The exception is where expressions appear, which is within Assertion and Assignment statements, which as per the model, occur in <code>/pre_conditions</code>, <code>data_bindings[id]/predicates</code>, <code>rules[id]/when</code> statements, <code>rules[id]/then</code> actions, and Guideline <code>default_actions</code>.</p>
</div>
<div class="paragraph">
<p>The following subsections describe the expressions occurring in Assertion and Assignment statements. The former is a kind of statement that asserts the truth of a Boolean expression, while the latter is a programming-style assignment of an expression of any type to a variable of that type.</p>
</div>
</div>
<div class="sect3">
<h4 id="_pre_conditions"><a class="anchor" href="#_pre_conditions"></a>4.3.2. Pre-conditions</h4>
<div class="paragraph">
<p>Pre-conditions (<code>GUIDELINE.<em>pre_conditions</em></code>) are part of the execution filter for the rules in a guideline. Pre-conditions apply to the guideline as a whole, i.e. all constituent rules and usually specify conditions on the type of patient / subject to which the guideline applies. Input data sets not satisfying the pre-conditions will cause a Guideline to be considered by the execution engine as not applying, and execution will pass to other guidelines or terminate.</p>
</div>
<div class="paragraph">
<p>The following shows a pre-condition used in the <code>CHA2DS2VASc_Score_calculation.v1.1.0</code> guideline. This says that the value of the <code>gt0121</code> variable (meaning: Atrial fibrillation), which is mapped to the path <code>/data[at0001]/items[at0035]</code> in the archetype <code>openEHR-EHR-EVALUATION.chadsvas_diagnosis_review.v1</code> is 1, i.e. it is present.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="odin"><span></span><span class="tok-nc">definition</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
	<span class="tok-nc">pre_conditions</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;$gt0121 == 1|local::at0051|Present|&quot;</span><span class="tok-p">&gt;</span>

    <span class="tok-nc">data_bindings</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;gt0122&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-nc">model_id</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;openEHR-EHR-EVALUATION.chadsvas_diagnosis_review.v1&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">type</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;INPUT&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-nc">elements</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-p">[</span><span class="tok-s">&quot;gt0121&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                    <span class="tok-nc">path</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;/data[at0001]/items[at0035]&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
        <span class="tok-p">&gt;</span>

<span class="tok-nc">terminology</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
    <span class="tok-nc">term_definitions</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
        <span class="tok-p">[</span><span class="tok-s">&quot;en&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
            <span class="tok-p">[</span><span class="tok-s">&quot;gt0121&quot;</span><span class="tok-p">]</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span>
                <span class="tok-nc">text</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;Atrial fibrillation&quot;</span><span class="tok-p">&gt;</span>
                <span class="tok-nc">description</span> <span class="tok-o">=</span> <span class="tok-p">&lt;</span><span class="tok-s">&quot;*&quot;</span><span class="tok-p">&gt;</span>
            <span class="tok-p">&gt;</span>
            <span class="tok-p">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following pre-condition is from the <code>Coeliac_disease_alert.v2</code> guideline, expressed in JSON. The <code>gt0015</code> code is mapped in a similar way to a data point within a diagnosis review. In this case, it asserts that there is no Coeliac disease diagnosis, which is the logical pre-condition for applying a Coeliac risk analysis guideline (clearly the latter is not useful for subjects already diagnosed as Coeliac).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span></span>    <span class="tok-s2">&quot;pre_conditions&quot;</span><span class="tok-err">:</span> <span class="tok-p">[</span>
      <span class="tok-s2">&quot;$gt0015|Coeliac disease diagnosis| == null&quot;</span>
    <span class="tok-p">]</span><span class="tok-err">,</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rules"><a class="anchor" href="#_rules"></a>4.3.3. Rules</h4>
<div class="paragraph">
<p>Rules consist of the pattern <code>when Assertion(s) then Statement(s)</code>. The logic of multiple Assertions in the <code>when</code> part is <code>and</code>, i.e. all are needed for the rule to fire.</p>
</div>
<div class="paragraph">
<p>The following example is from the <code>Coeliac_disease_alert.v2</code> guideline, and shows a rule whose <code>when</code> condition is a multi-way <code>or</code> expression of various conditions, and whose <code>then</code> statements consist of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>assignment to a variable from an output template that corresponds to a CDS hooks 'card' data item;</p>
</li>
<li>
<p>an internal <code>use_template</code> call that tells the execution engine which reporting template to use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This kind of rule essentially reports on a Boolean condition that was found to be present in the input data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span></span>  <span class="tok-s2">&quot;gt0007&quot;</span><span class="tok-err">:</span> <span class="tok-p">{</span>
    <span class="tok-nt">&quot;id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;gt0007&quot;</span><span class="tok-p">,</span>
    <span class="tok-nt">&quot;priority&quot;</span><span class="tok-p">:</span> <span class="tok-mi">1</span><span class="tok-p">,</span>
    <span class="tok-nt">&quot;when&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
      <span class="tok-s2">&quot;$gt0025|Type 1 diabetes| == true ||</span>
<span class="tok-s2">       $gt0029|Irritable bowel syndrome| == true ||</span>
<span class="tok-s2">       $gt0028|(Unexplained) B12, iron or folate deficiency (and relevant medicines)| == true ||</span>
<span class="tok-s2">       $gt0026|Autoimmune thyroid disease (and relevant medicines)| == true&quot;</span>
    <span class="tok-p">],</span>
    <span class="tok-nt">&quot;then&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
      <span class="tok-s2">&quot;$gt0009|card.summary| = &#39;tTG serological testing is recommended&#39;&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;use_template ($gt2022)&quot;</span>
    <span class="tok-p">]</span>
  <span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Rules may be used to perform calculations, such as the well-known Body Mass Index (BMI). The extract below is from the <code>BMI_Calculation-FHIR.v1</code> guideline. The 3rd item in the <code>then</code> list is an assignment stating that the BMI variable <code>gt0003</code> value should be set to weight (<code>gt0007</code>) / height(<code>gt0005</code>)^2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span></span>    <span class="tok-s2">&quot;rules&quot;</span><span class="tok-err">:</span> <span class="tok-p">{</span>
      <span class="tok-nt">&quot;gt0012&quot;</span><span class="tok-p">:</span> <span class="tok-p">{</span>
        <span class="tok-nt">&quot;id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;gt0012&quot;</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;priority&quot;</span><span class="tok-p">:</span> <span class="tok-mi">1</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;then&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
          <span class="tok-s2">&quot;$gt0003|BMI|.unit = &#39;kg/m2&#39;&quot;</span><span class="tok-p">,</span>
          <span class="tok-s2">&quot;$gt0003|BMI|.precision = 1&quot;</span><span class="tok-p">,</span>
          <span class="tok-s2">&quot;$gt0003|BMI|.magnitude = $gt0007.magnitude/($gt0005.magnitude/100)^2&quot;</span>
        <span class="tok-p">]</span>
      <span class="tok-p">}</span>
    <span class="tok-p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Rule-set action lists may be of any size, as shown by the following extract, from the <code>QRISK2-2015_risk_calculation.v2</code> guideline.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span></span>  <span class="tok-s2">&quot;gt0025&quot;</span><span class="tok-err">:</span> <span class="tok-p">{</span>
    <span class="tok-nt">&quot;id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;gt0025&quot;</span><span class="tok-p">,</span>
    <span class="tok-nt">&quot;priority&quot;</span><span class="tok-p">:</span> <span class="tok-mi">2</span><span class="tok-p">,</span>
    <span class="tok-nt">&quot;when&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
      <span class="tok-s2">&quot;$gt0026==&#39;female&#39;&quot;</span>
    <span class="tok-p">],</span>
    <span class="tok-nt">&quot;then&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
      <span class="tok-s2">&quot;$gt1000|dage|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1001|age_1|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1002|age_2|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1003|bmi|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1004|bmi_2|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1005|bmi_1|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1006|rati|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1007|sbp|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1008|town|.precision = 15&quot;</span><span class="tok-p">,</span>

      <span class="tok-s2">&quot;$gt1000|dage|.magnitude = $gt0022|age|.magnitude&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1000|dage|.magnitude = $gt1000|dage|.magnitude / 10.0&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1001|age_1|.magnitude = $gt1000|dage|.magnitude ^ 0.5&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1002|age_2|.magnitude = $gt1000|dage|.magnitude&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1003|dbmi|.magnitude = $gt0024.magnitude&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1003|dbmi|.magnitude = $gt1003|dbmi|.magnitude / 10.0&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1004|bmi_2|.magnitude = $gt1003|dbmi|.magnitude ^ (0-2) * log($gt1003|dbmi|.magnitude)&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1005|bmi_1|.magnitude = $gt1003|dbmi|.magnitude ^ (0-2)&quot;</span><span class="tok-p">,</span>

      <span class="tok-s2">&quot;$gt1001|age_1|.magnitude = $gt1001|age_1|.magnitude - 2.086397409439087&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1002|age_2|.magnitude = $gt1002|age_2|.magnitude - 4.353054523468018&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1005|bmi_1|.magnitude = $gt1005|bmi_1|.magnitude - 0.152244374155998&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1004|bmi_2|.magnitude = $gt1004|bmi_2|.magnitude - 0.143282383680344&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1006|rati|.magnitude = $gt8005|Cholesterol/HDL ratio|.magnitude - 3.506655454635620&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1007|sbp|.magnitude = $gt0016|Systolic BP|.magnitude - 125.040039062500000&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt1008|town|.magnitude = (0-0.416743695735931)&quot;</span><span class="tok-p">,</span>

      <span class="tok-s2">&quot;$gt0030|QRISK2 score|.precision = 15&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt0030|QRISK2 score|.magnitude = 0&quot;</span><span class="tok-p">,</span>

      <span class="tok-s2">&quot;$gt0030.magnitude = $gt0030.magnitude + $gt0004|Smoking category 1|.value * 0.2119377108760385200000000&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt0030.magnitude = $gt0030.magnitude + $gt0005|Smoking category 2|.value * 0.6618634379685941500000000&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt0030.magnitude = $gt0030.magnitude + $gt0006|Smoking category 3|.value * 0.7570714587132305600000000&quot;</span><span class="tok-p">,</span>
      <span class="tok-s2">&quot;$gt0030.magnitude = $gt0030.magnitude + $gt0007|Smoking category 4|.value * 0.9496298251457036000000000&quot;</span><span class="tok-p">,</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_expression_elements"><a class="anchor" href="#_expression_elements"></a>4.3.4. Expression Elements</h4>
<div class="paragraph">
<p>Most expression terminal elements shown in the <a href="#_expressions_package">Section 5.3</a> below are generated during the process of parsing larger expressions and statements found within guidelines, as per the above examples. Consequently, some properties, such as types of constants and variables are inferred and generated on the fly, rather than being stated literally within a guideline.</p>
</div>
</div>
<div class="sect3">
<h4 id="_local_variables_2"><a class="anchor" href="#_local_variables_2"></a>4.3.5. Local Variables</h4>
<div class="paragraph">
<p>Local variables identified by gt-codes may be defined by including their gt-code definitions in the <code>terminology</code> in the normal way, and then just using them within assertions and assignments. They are tracked in the list <code>GUIDELINE_DEFINITION.internal_variables</code>, which is constructed on the fly during guideline materialisation.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reporting"><a class="anchor" href="#_reporting"></a>4.4. Reporting</h3>
<div class="paragraph">
<p>The actions performed when a GDL2 rule is fired consist of assignments, which result in a value being set in a location of an output data set.</p>
</div>
<div class="paragraph">
<p>The following example shows a rule whose <code>then</code> action list includes the internal call <code>use_template($gt2022)</code>. The code <code>gt2022</code> refers to a reporting 'template', which appears below the rule that mentions it. Within this template, the <code>object</code> field contains a structure whose model is defined by the preceding <code>model_id</code> and <code>template_id</code> attributes. Within the object structure, any output variables from the Guideline may be mentioned using the syntax <code>{}</code>, which means that at execution time, if the rule is fired, the template will be evaluated such that all <code>{}</code> mentions are substituted with their variable values, before final processing of the template (which might for example send it to a specific receiver service or application).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="json"><span></span>    <span class="tok-s2">&quot;rules&quot;</span><span class="tok-err">:</span> <span class="tok-p">{</span>
      <span class="tok-nt">&quot;gt0007&quot;</span><span class="tok-p">:</span> <span class="tok-p">{</span>
        <span class="tok-nt">&quot;id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;gt0007&quot;</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;priority&quot;</span><span class="tok-p">:</span> <span class="tok-mi">1</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;when&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span><span class="tok-err">...</span><span class="tok-p">],</span>
        <span class="tok-nt">&quot;then&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
          <span class="tok-s2">&quot;$gt0009|card.summary|=&#39;tTG serological testing is recommended&#39;&quot;</span><span class="tok-p">,</span>
          <span class="tok-s2">&quot;use_template($gt2022)&quot;</span>
        <span class="tok-p">]</span>
      <span class="tok-p">}</span>

    <span class="tok-s2">&quot;templates&quot;</span><span class="tok-p">:</span> <span class="tok-p">{</span>
      <span class="tok-nt">&quot;gt2022&quot;</span><span class="tok-p">:</span> <span class="tok-p">{</span>
        <span class="tok-nt">&quot;id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;gt2022&quot;</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;name&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;coeliac-disease-alert&quot;</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;model_id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;generic_model&quot;</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;template_id&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;generic_model&quot;</span><span class="tok-p">,</span>
        <span class="tok-nt">&quot;object&quot;</span><span class="tok-p">:</span> <span class="tok-p">{</span>
          <span class="tok-nt">&quot;cards&quot;</span><span class="tok-p">:</span> <span class="tok-p">[</span>
            <span class="tok-p">{</span>
              <span class="tok-nt">&quot;summary&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;{$gt0009}&quot;</span><span class="tok-p">,</span>
              <span class="tok-nt">&quot;detail&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;Found risk factor(s):{$gt0020}&quot;</span><span class="tok-p">,</span>
              <span class="tok-nt">&quot;indicator&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;warning&quot;</span><span class="tok-p">,</span>
              <span class="tok-nt">&quot;source&quot;</span><span class="tok-p">:</span> <span class="tok-p">{</span>
                <span class="tok-nt">&quot;label&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;National Institute for Health and Care Excellence (NICE). Coeliac disease: recognition, assessment and management. 2015.&quot;</span><span class="tok-p">,</span>
                <span class="tok-nt">&quot;url&quot;</span><span class="tok-p">:</span> <span class="tok-s2">&quot;https://www.nice.org.uk/guidance/ng20&quot;</span>
              <span class="tok-p">}</span>
            <span class="tok-p">}</span>
          <span class="tok-p">]</span>
        <span class="tok-p">}</span>
      <span class="tok-p">}</span>
    <span class="tok-p">},</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gdl2_object_model"><a class="anchor" href="#_gdl2_object_model"></a>5. GDL2 Object Model</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_package_structure"><a class="anchor" href="#_package_structure"></a>5.1. Package Structure</h3>
<div class="paragraph">
<p>The Guideline Object Model, the object model of GDL2 consists of three packages, the <code>guideline</code> package, <code>expression</code> package and the <code>terminology</code> package, each described in detail through the following sections.</p>
</div>
<div id="cds_packages" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/CDS-cds-packages.svg" alt="CDS cds packages">
</div>
<div class="title">Figure 3. <code>cds</code> Package</div>
</div>
</div>
<div class="sect2">
<h3 id="_guideline_package"><a class="anchor" href="#_guideline_package"></a>5.2. Guideline Package</h3>
<div class="sect3">
<h4 id="_overview_2"><a class="anchor" href="#_overview_2"></a>5.2.1. Overview</h4>
<div class="paragraph">
<p>The following UML diagram shows the <code>guideline</code> and <code>terminology</code> packages.</p>
</div>
<div id="guideline" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/CDS-cds.guideline.svg" alt="CDS cds.guideline">
</div>
<div class="title">Figure 4. <code>cds.guideline</code> Package</div>
</div>
</div>
<div class="sect3">
<h4 id="_class_definitions"><a class="anchor" href="#_class_definitions"></a>5.2.2. Class Definitions</h4>
<div class="sect4">
<h5 id="_guideline_class"><a class="anchor" href="#_guideline_class"></a>5.2.2.1. GUIDELINE Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>GUIDELINE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Representation of a discrete guideline, which defines archetype bindings, rules and descriptive meta-data.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>AUTHORED_RESOURCE</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identification of this guideline. Syntax is a string of format:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>concept_name '.v' [N[.M.P]]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example: <code>calculate_bmi.v1</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>gdl_version</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The version of the GDL the guide is written in, in a string of format:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>N.M[.P]</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>i.e. a 2- or 3-number form of version, e.g. "1.0", "2.0", etc.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>concept</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The normative meaning of the guideline as whole. Expressed as a gt-code.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>definition</strong>: <code>GUIDELINE_DEFINITION</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The main definition part of the guide. It consists of archetype bindings and rule definitions.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>terminology</strong>: <code>TERMINOLOGY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Terminology definitions of the guideline containing definitions and translations (if applicable) for every gt-code.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_guideline_definition_class"><a class="anchor" href="#_guideline_definition_class"></a>5.2.2.2. GUIDELINE_DEFINITION Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>GUIDELINE_DEFINITION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The definition of the guideline includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code><em>pre_conditions</em></code>: conditions defining the applicability of this guideline to a subject;</p>
</li>
<li>
<p><code><em>data bindings</em></code>: bindings to to archetypes and other sources;</p>
</li>
<li>
<p><code><em>rules</em></code>: define the logic of the guideline;</p>
</li>
<li>
<p><code><em>template</em></code>: defines the output reporting structure.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>data_bindings</strong>: <code>Hash&lt;String,DATA_BINDING&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of archetype/template bindings, which define specific elements to be used by rules in this guideline.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>pre_conditions</strong>: <code>List&lt;ASSERTION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Pre-conditions to be met before the guideline can be selected for execution. Pre-conditions constitute the definition of the guideline 'entry point', i.e. the match to a patient type to which the guideline may apply.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>rules</strong>: <code>Hash&lt;String,RULE&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Map of rules indexed by local gt codes.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>default_actions</strong>: <code>List&lt;ASSIGNMENT&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Actions that will always be performed, whenever the <code><em>when</em></code> conditions are evaluated, regardless of the result.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>templates</strong>: <code>Hash&lt;String,OUTPUT_TEMPLATE&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>One or more output termplates that define how to represent output reporting structure.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>internal_variables</strong>: <code>List&lt;VARIABLE&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Variables used internally to a GDL guideline, i.e. not bound to external data entities. These are generated during parsing of expressions and used to track interim state.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_rule_class"><a class="anchor" href="#_rule_class"></a>5.2.2.3. RULE Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>RULE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>A single rule defined in a guideline, of the logical form</p>
</div>
<div class="paragraph">
<p><code>when</code> conditions <code>then</code> actions.</p>
</div>
<div class="paragraph">
<p>Conditions are assertions based on input and/or environment variables (e.g.time, date etc). Actions take the form of assignments to output variables.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The gt-code of this rule.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>when</strong>: <code>List&lt;ASSERTION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of assertions that when evaluated to <code>True</code> cause the rule to be fired. The <code><em>when</em></code> assertions may only mention 'input' type variables.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>then</strong>: <code>List&lt;ASSIGNMENT&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of actions if the rule is fired. Each action is in the form of an assignment to an 'output' type variable.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>priority</strong>: <code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Indicates the evaluation order of Rules within a Guideline. Rules with a <em>higher</em> priority value are executed first.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_data_binding_class"><a class="anchor" href="#_data_binding_class"></a>5.2.2.4. DATA_BINDING Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>DATA_BINDING</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>A list of bindings of nodes for a data-set' - i.e. from the archetype (and optionally template) specified by <code><em>archetype_id</em></code> and <code><em>template_id</em></code> respectively, to guideline variables, each specified by an element binding.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>model_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The identifier of the data-set model (i.e. archetype or other) from which the list of elements is selected.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>template_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The ID of an optional template to be used for selecting elements.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bindings</strong>: <code>Hash&lt;String,ELEMENT&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Map of variable binding indexed by identifying gt-code of the variable.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>predicates</strong>: <code>List&lt;ASSERTION&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Predicates (constraints) that need to be satisfied before rule execution can occur. Generally speaking, predicates are constraints on variable values, and can only mention gt-codes of variables.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Marker to indicate whether variable is an input or output variable in the data-set. The value can either be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"INPUT"</code>: input data to the guideline, e.g. values retrieved from the EHR;</p>
</li>
<li>
<p><code>"OUTPUT"</code>: output value generated by Guideline Rule execution.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_element_class"><a class="anchor" href="#_element_class"></a>5.2.2.5. ELEMENT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ELEMENT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>The binding between a specific node in an archetype and a variable in the guide.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The gt-code of this element.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>path</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The path within archetype to reach this element.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_output_template_class"><a class="anchor" href="#_output_template_class"></a>5.2.2.6. OUTPUT_TEMPLATE Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>OUTPUT_TEMPLATE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Definition of structure for reporting guideline execution results.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The gt-code of this output template.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Name of this template.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>model_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Identifier of a model that defines the structure of the <code><em>object</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>template_id</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The identifier of a template based on the model identified by <code><em>model_id</em></code> defining the attached <code><em>object</em></code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>object</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Detailed output report structure as an object that may be defined by a published model.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_expressions_package"><a class="anchor" href="#_expressions_package"></a>5.3. Expressions Package</h3>
<div class="sect3">
<h4 id="_overview_3"><a class="anchor" href="#_overview_3"></a>5.3.1. Overview</h4>
<div class="paragraph">
<p>The <code>expression</code> package is illustrated below.</p>
</div>
<div id="expression" class="imageblock text-center text-center">
<div class="content">
<img src="UML/diagrams/CDS-cds.expression.svg" alt="CDS cds.expression">
</div>
<div class="title">Figure 5. <code>cds.expression</code> Package</div>
</div>
</div>
<div class="sect3">
<h4 id="_class_definitions_2"><a class="anchor" href="#_class_definitions_2"></a>5.3.2. Class Definitions</h4>
<div class="sect4">
<h5 id="_expression_item_class"><a class="anchor" href="#_expression_item_class"></a>5.3.2.1. EXPRESSION_ITEM Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>EXPRESSION_ITEM (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract parent of all valued elements that may be used as a term in an expression. Concrete descendant types are generated by a GDL2 parser when processing a GDL2 text.</p>
</div>
<div class="paragraph">
<p>The function <code><em>type()</em></code> returns a value for the type of any concrete element, which may have been inferred and stored during parsing (Constants and Variables), or may be looked up (library of function calls).</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>type</strong> (): <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Type name of the item. Comparisons should be done case-insensitive.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_operator_class"><a class="anchor" href="#_operator_class"></a>5.3.2.2. OPERATOR Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>OPERATOR (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract model of an operator-based expression.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>EXPRESSION_ITEM</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>operator</strong>: <code>OPERATOR_KIND</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The operator type of this expression.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_unary_operator_class"><a class="anchor" href="#_unary_operator_class"></a>5.3.2.3. UNARY_OPERATOR Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>UNARY_OPERATOR</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Concrete model of a unary operator in the rule.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>OPERATOR</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>operand</strong>: <code>EXPRESSION_ITEM</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The operand.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_binary_operator_class"><a class="anchor" href="#_binary_operator_class"></a>5.3.2.4. BINARY_OPERATOR Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>BINARY_OPERATOR</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Concrete model of a binary operator in the rule.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>OPERATOR</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>left</strong>: <code>EXPRESSION_ITEM</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Left operand.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>right</strong>: <code>EXPRESSION_ITEM</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Right operand.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_operator_kind_enumeration"><a class="anchor" href="#_operator_kind_enumeration"></a>5.3.2.5. OPERATOR_KIND Enumeration</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Enumeration</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>OPERATOR_KIND</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Enumeration of operator types.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">ADDITION</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Addition ('+') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">SUBTRACTION</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subtraction ('-') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULTIPLICATION</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Multiplication ('*') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIVISION</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Division ('/') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXPONENT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Exponent ('^') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">AND</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Logical and ('&amp;&amp;') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">OR</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Logical or ('&#124;&#124;') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Logical negation ('!') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">EQUALITY</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relational equality ('==') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">INEQUALITY</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relational inequality ('!=') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LESS_THAN</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relational less-than ('&lt;') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">GREATER_THAN</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relational greater-than ('&gt;') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">LESS_THAN_OR_EQUAL</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relational less-than-or-equal ('&lt;=') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">GREATER_THAN_OR_EQUAL</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Relational greater-than-or-equal ('&gt;=') operation.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS_A</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Subsumption operator ('is_a').</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS_NOT_A</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Negated subsumption operator ('!is_a').</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">FOR_ALL</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Universal quantifier operator ('').</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_function_call_class"><a class="anchor" href="#_function_call_class"></a>5.3.2.6. FUNCTION_CALL Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>FUNCTION_CALL</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Concrete expression in the form of a function.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>EXPRESSION_ITEM</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>items</strong>: <code>List&lt;EXPRESSION_ITEM&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Function arguments.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>function</strong>: <code>FUNCTION_KIND</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The specific function.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_function_kind_enumeration"><a class="anchor" href="#_function_kind_enumeration"></a>5.3.2.7. FUNCTION_KIND Enumeration</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Enumeration</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>FUNCTION_KIND</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Enumeration of function types.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">abs</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the absolute value of a double value.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">ceil</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the smallest double value that is greater than or equal to the argument and is equal to a mathematical integer.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">exp</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns Euler&#8217;s number e raised to the power of a double value.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">floor</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the largest double value that is less than or equal to the argument and is equal to a mathematical integer.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">log</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the natural logarithm (base e) of a double value.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">log10</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the base 10 logarithm of a double value.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">log1p</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the natural logarithm of the sum of the argument and 1.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">round</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the closest long to the argument, with ties rounding to positive infinity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">sqrt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the correctly rounded positive square root of a double value.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">sin</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the trigonometric sine of an angle.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">cos</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns the trigonometric cosine of an angle.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">max</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Maximum value of N elements.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">min</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Minimum value of N elements.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">count</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Count of instances of an element.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">sum</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Total sum of N element values.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_constant_class"><a class="anchor" href="#_constant_class"></a>5.3.2.8. CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>CONSTANT (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Terminal expression element representing a constant; subtypes define constants of specific types.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>EXPRESSION_ITEM</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Symbolic name of constant.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>Any</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_string_constant_class"><a class="anchor" href="#_string_constant_class"></a>5.3.2.9. STRING_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>STRING_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type String.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_integer_constant_class"><a class="anchor" href="#_integer_constant_class"></a>5.3.2.10. INTEGER_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>INTEGER_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type Integer.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_date_time_constant_class"><a class="anchor" href="#_date_time_constant_class"></a>5.3.2.11. DATE_TIME_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>DATE_TIME_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type Date/time.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>Iso8601_date_time</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_code_phrase_constant_class"><a class="anchor" href="#_code_phrase_constant_class"></a>5.3.2.12. CODE_PHRASE_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>CODE_PHRASE_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type Code phrase.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>CODE_PHRASE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_coded_text_constant_class"><a class="anchor" href="#_coded_text_constant_class"></a>5.3.2.13. CODED_TEXT_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>CODED_TEXT_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type Coded text.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>DV_CODED_TEXT</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_ordinal_constant_class"><a class="anchor" href="#_ordinal_constant_class"></a>5.3.2.14. ORDINAL_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ORDINAL_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type Ordinal.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>DV_ORDINAL</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_quantity_constant_class"><a class="anchor" href="#_quantity_constant_class"></a>5.3.2.15. QUANTITY_CONSTANT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>QUANTITY_CONSTANT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Constant of type Quantity.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>CONSTANT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1<br>
(redefined)</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>value</strong>: <code>DV_QUANTITY</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Value of constant, redefined to specific types in descendants.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_variable_class"><a class="anchor" href="#_variable_class"></a>5.3.2.16. VARIABLE Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>VARIABLE</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Terminal expression element representing a named variable with a definition provided by the <code><em>code</em></code> attribute, containing a gt-code.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>EXPRESSION_ITEM</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>name</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Variable symbolic name.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>code</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Internal gt-code defining the meaning of this variable.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_statement_class"><a class="anchor" href="#_statement_class"></a>5.3.2.17. STATEMENT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong><em>STATEMENT (abstract)</em></strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Abstract concept of a statement, which is a self-standing procedural element.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_assignment_class"><a class="anchor" href="#_assignment_class"></a>5.3.2.18. ASSIGNMENT Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ASSIGNMENT</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>A statement assigning an expression result to a variable.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>STATEMENT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>variable</strong>: <code>VARIABLE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Variable that is the target of the assignment.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expression</strong>: <code>EXPRESSION_ITEM</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Expression that is the source of the assignment.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_assertion_class"><a class="anchor" href="#_assertion_class"></a>5.3.2.19. ASSERTION Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>ASSERTION</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>A statement of the logical form <code>assert(cond)</code> that asserts the truth of a Boolean expression, which if not true, generates an exception at runtime.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Inherit</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock"><code>STATEMENT</code></p></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>expression</strong>: <code>EXPRESSION_ITEM</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Expression that is the subject of the assertion.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><strong><em>Inv_expression_type</em></strong>: <code>expression.type().is_case_insensitive_equal('Boolean')</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_terminology_package"><a class="anchor" href="#_terminology_package"></a>5.4. Terminology Package</h3>
<div class="sect3">
<h4 id="_overview_4"><a class="anchor" href="#_overview_4"></a>5.4.1. Overview</h4>
<div class="paragraph">
<p>The <code>terminology</code> package is illustrated earlier. The <code>TERMINOLOGY</code> and <code>TERM</code> classes are slightly simplified versions of the <code>ARCHETYPE_TERMINOLOGY</code> and <code>ARCHETYPE_TERM</code> classes from the <a href="https://specifications.openehr.org/releases/AM/latest/AOM2.html" target="_blank" rel="noopener">openEHR AOM2 specification</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_class_definitions_3"><a class="anchor" href="#_class_definitions_3"></a>5.4.2. Class Definitions</h4>
<div class="sect4">
<h5 id="_terminology_class"><a class="anchor" href="#_terminology_class"></a>5.4.2.1. TERMINOLOGY Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>TERMINOLOGY</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Local terminology of an archetype. This class defines the semantics of the terminology of an archetype.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>is_differential</strong>: <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Indicates whether this terminology is differential with respect to a specialisation parent, or complete.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>original_language</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Original language of the terminology, as set at creation or parsing time; must be a code in the ISO 639-1 2 character language code-set.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>concept_code</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Term code defining the meaning of the artefact as a whole, and always used as the at-code on the root node of the archetype. Must be defined in the <code>term_definitions</code> property.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>term_definitions</strong>: <code>Hash&lt;String, Hash&lt;String, TERM&gt;&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Directory of term definitions as a two-level table. The outer hash keys are language codes, e.g. <code>"en"</code>, <code>"de"</code>, while the inner hash keys are term codes, e.g. <code>"gt17"</code>.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>term_bindings</strong>: <code>Hash &lt;String, TERM_BINDING&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Directory of bindings to external terminology codes and value sets, as a two-level table. The outer hash keys are terminology ids, e.g. <code>"SNOMED_CT"</code>, and the inner hash keys are constraint codes, e.g. <code>"at4"</code>, <code>"ac13"</code> or paths. The indexed <code>DV_URI</code> objects represent references to externally defined resources, either terms, ontology concepts, or terminology subsets / ref-sets.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Functions</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>specialisation_depth</strong> (): <code>Integer</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Specialisation depth of this artefact. Unspecialised artefacts have depth 0, with each additional level of specialisation adding 1 to the specialisation_depth.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_language</strong> (<br>
a_lang: <code>String[1]</code><br>
): <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if language <code><em>a_lang</em></code> is present in archetype terminology.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_terminology</strong> (<br>
a_terminology_id: <code>String[1]</code><br>
): <code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if there are bindings to terminology <code><em>a_terminology_id</em></code> present.
True if terminology `a_terminology' is present in archetype ontology.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>has_term_code</strong> (<br>
a_code: <code>String[1]</code><br>
): <code>boolean</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>True if code <code><em>a_code</em></code> defined in this terminology.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>term_definition</strong> (<br>
a_lang: <code>String[1]</code>,<br>
a_code: <code>String[1]</code><br>
): <code>TERM</code><br>
<strong><em>Pre</em></strong>: <code>has_term-definition (a_lang, a_code)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Term definition for a code, in a specified language.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>term_binding</strong> (<br>
a_terminology: <code>String[1]</code>,<br>
a_code: <code>String[1]</code><br>
): <code>Uri</code><br>
<strong><em>Pre</em></strong>: <code>has_term_binding (a_terminology_id, a_code)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Binding of constraint corresponding to <code><em>a_code</em></code> in target external terminology <code><em>a_terminology_id</em></code>, as a string, which is usually a formal query expression.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>terminologies_available</strong> (): <code>List&lt;String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of terminologies to which term or constraint bindings exist in this terminology, computed from bindings.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>languages_available</strong> (): <code>List&lt;String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of languages in which terms in this terminology are available.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Invariants</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><strong><em>Original_language_validity</em></strong>: <code>code_set (Code_set_id_languages).has_concept_id (original_language)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><strong><em>concept_code_validity</em></strong>: <code>id_codes.has (concept_code)</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><strong><em>Term_bindings_validity</em></strong>: <code>bindings /= void implies not bindings.is_empty</code></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><strong><em>Parent_archetype_valid</em></strong>: <code>parent_archetype.terminology = Current</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_term_class"><a class="anchor" href="#_term_class"></a>5.4.2.2. TERM Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>TERM</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>Representation of any coded entity (term or constraint) in the artefact terminology.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>code</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Code of this term.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>text</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Short term text, typically for display.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>description</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Full description text.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>other_items</strong>: <code>Hash&lt;String, String&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hash of keys and corresponding values for other items in a term, e.g. provenance.
Hash of keys ("text", "description" etc) and corresponding values.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_term_binding_class"><a class="anchor" href="#_term_binding_class"></a>5.4.2.3. TERM_BINDING Class</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 33.3333%;">
<col style="width: 55.5556%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Class</strong></p></th>
<th class="tableblock halign-center valign-top" colspan="2"><p class="tableblock"><strong>TERM_BINDING</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Description</strong></p></th>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p>One binding between a local gt-code and one or more external bindings</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Attributes</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Signature</strong></p></th>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>Meaning</strong></p></th>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>0..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>bindings</strong>: <code>List&lt;TERM&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>List of external codes, typically parsed in either URI form or openEHR standard form namespace '::' code.</p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><strong>1..1</strong></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>code</strong>: <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Local gt-code to which external terms are bound.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_syntax_specification"><a class="anchor" href="#_syntax_specification"></a>6. Syntax Specification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The grammar and lexical specification for the standard GDL is entirely based on <a href="https://specifications.openehr.org/releases/LANG/latest/odin.html" target="_blank" rel="noopener">openEHR ODIN syntax</a>, with a JSON equivalent, and driven by the guideline object model defined in this specification.</p>
</div>
<div class="sect2">
<h3 id="_syntax_specification_2"><a class="anchor" href="#_syntax_specification_2"></a>6.1. Syntax Specification</h3>
<div class="paragraph">
<p>The grammar and lexical specification for the expressions used by GDL is loosely based on the assertion syntax in the ADL specification. This grammar is implemented using javaCC specifications in the Java programming environment. The full source code of the java GDL parser is <a href="https://github.com/gdl-lang/gdl2/blob/master/src/main/javacc/expressions.jj" target="_blank" rel="noopener">available here</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-07-16 15:35:24 +0100
</div>
</div>
<link rel="stylesheet" href="https://specifications.openehr.org/styles/pygments-default.css">
</body>
</html>